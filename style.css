/* ===== tokens ===== */
:root{
  --ink:#0f172a; --muted:#64748b; --line:#e5e7eb;
  --bg:#f8fafc; --bg2:#f3f4f6; --brand:#111; --accent:#111; --danger:#ef4444;
}
*{box-sizing:border-box}
.q-body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:#fff}

/* ===== header ===== */
.q-header{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:16px;padding:14px 28px;border-bottom:1px solid var(--line)}
.q-brand{display:flex;align-items:center;gap:16px}
.q-logo{width:56px;height:56px;border:1px solid var(--line);display:flex;align-items:center;justify-content:center;border-radius:8px;color:var(--muted)}
.q-name{font-size:26px;font-weight:800}
.q-nav{display:flex;gap:24px}
.q-nav-link{color:var(--brand);text-decoration:none;padding:6px 8px;border-radius:8px}
.q-nav-link.active{font-weight:600;text-decoration:underline}
.q-lang{display:flex;gap:8px}
.q-lang .lang-switch{border:1px solid var(--line);background:#fff;padding:6px 10px;border-radius:8px;cursor:pointer}
.q-lang .lang-switch.active{font-weight:700;text-decoration:underline}

/* ===== layout (60/40) ===== */
.q-main{display:grid;grid-template-columns:minmax(560px,60%) minmax(380px,40%);gap:20px;padding:18px 24px;align-items:start}
.q-left{min-width:0}
.q-right{display:grid;gap:18px}

/* ===== panels ===== */
.q-panel{background:#fff;border:1px solid var(--line);border-radius:14px;padding:14px}
.q-panel-title{font-weight:700;margin-bottom:10px}

/* ===== viewer ===== */
.q-viewport{position:relative;border:1px solid var(--line);border-radius:12px;background:var(--bg2);overflow:hidden}
#viewer{width:100%;height:520px;display:block}
.q-dropzone{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}
.q-drop-inner{border:2px dashed #cbd5e1;border-radius:12px;width:min(560px,85%);height:240px;background:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px}
.q-cloud{font-size:26px;opacity:.8}
.q-drop-title{font-weight:600;color:#334155}
.q-drop-or{color:var(--muted);font-size:12px}

/* buttons */
.q-btn{background:var(--accent);color:#fff;border:1px solid var(--accent);padding:10px 14px;border-radius:10px;cursor:pointer}
.q-btn[disabled]{opacity:.45;cursor:not-allowed}
.q-btn-hollow{background:#fff;color:var(--accent);border:1px solid var(--accent)}

/* ===== right list ===== */
.q-list-panel{height:520px;overflow:hidden;display:flex;flex-direction:column}
.q-list{display:flex;flex-direction:column;gap:10px;height:100%}
.q-list-head{
  font-size:12px;color:#6b7280;display:grid;
  grid-template-columns:36px 1.6fr 2.2fr 1fr 1fr 72px;
  align-items:center;gap:10px;padding:6px 8px;border-bottom:1px dashed var(--line)
}
.q-list-body{
  overflow-y:auto;overflow-x:hidden;padding:6px 4px 6px 8px;display:flex;flex-direction:column;gap:10px;scrollbar-gutter:stable both-edges
}
.q-list-footer{padding:4px 8px}

/* row card */
.file-row{
  display:grid;
  grid-template-columns:36px 1.6fr 2.2fr 1fr 1fr 72px; /* index | thumbnail+name | settings | qty | price | remove */
  gap:12px;align-items:center;border:1px solid var(--line);border-radius:12px;padding:10px;background:#fff
}
.file-row .idx{font-size:12px;color:#6b7280;text-align:center}

/* thumbnail + name */
.card-media{display:grid;grid-template-columns:64px 1fr;gap:10px;align-items:center;min-width:0}
.card-media img{width:64px;height:64px;object-fit:cover;border-radius:12px;border:1px solid var(--line);background:var(--bg2)}
.file-name{font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.file-meta{font-size:12px;color:#6b7280;margin-top:2px}

/* settings grid inside a column */
.settings{
  display:grid;grid-template-columns:1fr 1fr;gap:8px 12px;align-items:center
}
.field{display:grid;gap:4px}
.field label{font-size:11px;color:#6b7280}
.field input[type="number"], .field select{
  padding:8px 10px;border:1px solid var(--line);border-radius:8px;background:#fff;width:100%
}

/* qty */
.qtycol .number{width:100%;padding:8px 10px;border:1px solid var(--line);border-radius:8px}

/* price */
.pricecol{display:flex;justify-content:flex-end;align-items:center}
.price-chip{font-weight:800}
.price-chip::after{content:" THB";font-weight:600;color:#6b7280;margin-left:2px}

/* remove */
.file-row .danger{padding:8px 10px;border:1px solid var(--danger);color:var(--danger);background:#fff;border-radius:8px;cursor:pointer}
.file-row .danger:hover{filter:brightness(0.96)}

/* empty */
.q-list-empty{color:#9aa3af;font-size:14px;text-align:center;padding:20px}

/* quotation */
.q-summary{list-style:none;padding:0;margin:8px 0 10px}
.q-summary li{display:flex;justify-content:space-between;gap:12px;padding:10px 0;border-bottom:1px dashed var(--line)}
.q-total{padding:8px 0 2px;font-weight:900;font-size:26px}

/* responsive */
@media (max-width:1100px){
  .q-main{grid-template-columns:1fr}
  .q-list-panel{height:auto}
  #viewer{height:460px}
}
@media (max-width:700px){
  .file-row{
    grid-template-columns:28px 1fr; /* stack */
    grid-auto-rows:auto
  }
  .settings, .qtycol, .pricecol{grid-column:1 / -1}
  .pricecol{justify-content:flex-start}
}
